<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Hello, world!</title>
    <link rel="stylesheet" href="../stylesheets/profile.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <div class="nav">
      <div class="profileimg">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Pinterest-logo.png" alt="">
      </div>
      <a href="/profile">Home</a>
      <a href="">Today</a>
      <div class="input">
        <input type="text"  placeholder="Search" >
        <i class="ri-search-line"></i>
      </div>
      <i class="ri-notification-line"></i>
      <i class="ri-message-2-line"></i>
      <div class="prof">
        <h5><%=fu.name.toUpperCase().charAt(0)%></h5>
      </div>
      <i id="arrowlft" class="ri-arrow-down-s-line"></i>
    </div>
    <div class="sidebar">
      <p>current in</p>
      <div  class="sidebarprof">
        <div class="sidecrcle"></div>
        <div class="sideabt">
          <h2>Pawan Kumar</h2>
          <p>personal</p>
          <p>ku15101998@gmail.com</p>
        </div>
        <i class="ri-heart-line"></i>
      </div>
        <p id="account">your accounts</p>
        <a class="your_account" href="" >add account</a> <br>
        <a class="your_account" href="" >convar to business</a>
        <p id="more_options">more options</p>
        <a href="/setting">settings</a> <br>
        <a href="" >tune your home feed</a> <br>
        <a href="" >Install tha windows app</a> <br>
        <a href="" >Get help</a> <br>
        <a href="" >See items and privect</a> <br>
        <a href="" href="/logout">Logout</a> <br>
      </div>
      
      <link rel="stylesheet" href="../stylesheets/profileuser.css">
        <div class="user">
          <div class="usercirc">
            <%if(fu._id.toString() == fp.user._id.toString()){%>
              <h1><%=fu.name.toUpperCase().charAt(0)%></h1>
           <% }else{%>
            <h1><%=fp.user.name.toUpperCase().charAt(0)%></h1> 
          <%}%>
          </div>
          <%if(fu._id.toString() == fp.user._id.toString()){%>
            <h1><%=fu.name%></h1>
        <%  }else{%>

        <%}%>
          <p>@ku15101998. UI UX Designer, Front End Web Devloper</p>
          <%if(fu._id.toString() == fp.user._id.toString()){%>  
            <div class="people" >
            <b id="floobtn"><a href="#"><%=fu.follower.length%> Follower</a></b>
            <b id="floobtn"><a href="#"><%=fu.following.length%> Following</a></b>
            </div>
          <%}else{%>
            <div class="people">
            <b id="floobtn"><a href="#"><%=fp.user.follower.length%> Follower</a></b>
            <b id="floobtn"><a href="#"><%=fp.user.following.length%> Following</a></b>
            </div>
          <%}%>
          <div class="button">
              <button>share</button>
              <button>Edit profile</button>
          </div>
        <div class="links">
              <b><a id="creat" href="#">created</a></b>
              <%if(fu._id.toString() == fp.user._id.toString()){%>  
                <b><a id="save" href="#">Saved</a></b>
             <% }else{%>

             <%}%>
          </div>
      </div>
      <%if(fu._id.toString() == fp.user._id.toString()){%>
        <div class="profile">
          <div id="createdp">
            <%if(fu.post.length>0){%>
              <%fu.post.forEach(function(val){%>
              <div class="post">
                <img src="/images/uploads/<%= val.image%>" alt="<%= val._id%>">
              </div>
              <%})%>
            <%}else{%>
              <h3>no post created</h3>
           <%}%>
          </div>
          <div id="savedp">
            <%if(fu.savepost.length>0){%>
              <%fu.savepost.forEach(function(elem){%>
              <div class="spost">
                <img src="/images/uploads/<%=elem.image%>" alt="">
              </div>
              <%})%>
            <%}else{%>
              <h3>no post created</h3>
           <%}%>
          </div>
          
          <div class="abs">
              <button><i class="ri-add-line"></i></button>
              <button><i class="ri-question-line"></i></button>
          </div>
          <div class="following">
            <i id="cross" class="fas fa-times"></i>
               <h2>following</h2>
               <%if(fu.follower.length>0){%>
                <%fu.follower.forEach(function(val){%>
                  <div class="followers">
                    <a href=""><div class="pic"></div></a>
                    <h4><%=val.name%></h4>
                    <a href="/unfollow/<%=val._id%>"><button>unfollow</button></a>
                  </div>
                <%})%>
              <%}else{%>
                <h2>no following</h2>
             <%}%>
        </div>
        </div>
     <% } else{%>
      <div class="profile">
        <div id="createdp">
          <%if(fp.user.post.length>0){%>
            <%fu.post.forEach(function(val){%>
            <div class="post">
              <img src="/images/uploads/<%= val.image%>" alt="<%= val._id%>">
            </div>
            <%})%>
          <%}else{%>
            <h3>no post created</h3>
         <%}%>
        </div>
        <div id="savedp">
          <%if(fu.savepost.length>0){%>
            <%fu.savepost.forEach(function(elem){%>
            <div class="spost">
              <img src="/images/uploads/<%=elem.image%>" alt="">
            </div>
            <%})%>
          <%}else{%>
            <h3>no post created</h3>
         <%}%>
        </div>
        
        <div class="abs">
            <button><i class="ri-add-line"></i></button>
            <button><i class="ri-question-line"></i></button>
        </div>
        <div class="following">
          <i id="cross" class="fas fa-times"></i>
             <h2>following</h2>
             <%if(fu.follower.length>0){%>
              <%fu.follower.forEach(function(val){%>
                <div class="followers">
                  <a href=""><div class="pic"></div></a>
                  <h4><%=val.name%></h4>
                  <a href="/unfollow/<%=val._id%>"><button>unfollow</button></a>
                </div>
              <%})%>
            <%}else{%>
              <h2>no following</h2>
           <%}%>
      </div>
      </div>
     <%}%>
      
</body>
<script>
var cross = document.querySelector('#cross')
var floobtn = document.querySelector('#floobtn')
var creat = document.querySelector('#creat')
var created = document.querySelector('#createdp')
var save = document.querySelector('#save')
var savedp = document.querySelector('#savedp')
var following = document.querySelector('.following')

floobtn.addEventListener('click', function(){
following.style.display = "initial"
})

cross.addEventListener('click', function(){
following.style.display = "none"
})

save.addEventListener('click', function(){
creat.style.borderBottom = "none"
save.style.borderBottom = "3px solid black"
savedp.style.display = "flex"
created.style.display = "none"
})

creat.addEventListener('click', function(){
creat.style.borderBottom = "3px solid black"
save.style.borderBottom = "none"
savedp.style.display = "none"
created.style.display = "flex"
})
</script>
</html>